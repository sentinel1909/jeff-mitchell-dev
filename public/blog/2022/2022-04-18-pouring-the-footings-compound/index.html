<!DOCTYPE html>
<html lang="en">
    <head>
    <title>Pouring the Footings: Compound Data Types - Jeff Mitchell</title>
    
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><meta name="description" content="A blog mostly about Rust...mostly... Pouring the Footings: Compound Data Types A continued study of the basics in Rust, focusing on compound data types."/><meta name="keywords" content="Beginner Guides, rust, data types, compound" />
    <meta property="og:title" content="jeff-mitchell.dev -&nbsp;Pouring the Footings: Compound Data Types" />
    <meta property="og:type" content="website"/><meta property="og:url" content="https:&#x2F;&#x2F;jeff-mitchell.dev&#x2F;blog&#x2F;2022&#x2F;2022-04-18-pouring-the-footings-compound&#x2F;"/><meta property="og:description" content="A continued study of the basics in Rust, focusing on compound data types."/>
    <link rel="preload" href="https://jeff-mitchell.dev/assets/fonts/FiraCode-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="https://jeff-mitchell.dev/assets/fonts/FiraCode-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

    <link rel="stylesheet" href="https://jeff-mitchell.dev/style.css?h=97e262212a0704163528">
    <link rel="stylesheet" href=" https://jeff-mitchell.dev/color/orange.css?h=a5a5d7faf9d4bc3e0b18">
    
<link rel="alternate" type="application/atom+xml" title="jeff-mitchell.dev RSS" href="https://jeff-mitchell.dev/atom.xml"></head>
    <body>
        <div class="container center">
<header class="header">
    <div class="header__inner">
        <div class="header__logo">
            <a href="&#x2F;">
    <div class="logo">
        jeff-mitchell.dev :: mis-adventures with the Rust programming language
    </div>
</a>
        </div>
        <div class="menu-trigger">menu</div>
    </div>
    
    <nav class="menu">
        <ul class="menu__inner menu__inner--desktop">
            
            
        <li>
            <a href="
    
        https://jeff-mitchell.dev/
    
">home</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/about/
    
">about</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/categories
    
">categories</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/tags
    
">tags</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/projects
    
">projects</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/resources
    
">resources</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/atom.xml
    
">RSS</a>
        </li>
        <li>
            <a href="
    
        https:&#x2F;&#x2F;github.com&#x2F;sentinel1909
    
">GitHub</a>
        </li>
        <li>
            <a href="
    
        https:&#x2F;&#x2F;query.rs
    
">query.rs</a>
        </li></ul>

        <ul class="menu__inner menu__inner--mobile">
            
        <li>
            <a href="
    
        https://jeff-mitchell.dev/
    
">home</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/about/
    
">about</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/categories
    
">categories</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/tags
    
">tags</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/projects
    
">projects</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/resources
    
">resources</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/atom.xml
    
">RSS</a>
        </li>
        <li>
            <a href="
    
        https:&#x2F;&#x2F;github.com&#x2F;sentinel1909
    
">GitHub</a>
        </li>
        <li>
            <a href="
    
        https:&#x2F;&#x2F;query.rs
    
">query.rs</a>
        </li>
        </ul>
    </nav>

    </header>
<div class="content"><article class="post">
        <header>
            <h1 class="post-title">
                <a href="https:&#x2F;&#x2F;jeff-mitchell.dev&#x2F;blog&#x2F;2022&#x2F;2022-04-18-pouring-the-footings-compound&#x2F;">Pouring the Footings: Compound Data Types</a>
            </h1>
            
    <div class="post-meta">
        <span class="post-date">2022.04.18
                </span>

        <span class="post-author">
    ::
    Jeff Mitchell</span>

        

    
    :: {<a href="https://jeff-mitchell.dev/categories/beginner-guides/">Beginner Guides</a>} 

            
    ::
    #<a href="https://jeff-mitchell.dev/tags/rust/">rust</a>
        
    #<a href="https://jeff-mitchell.dev/tags/data-types/">data types</a>
        
    #<a href="https://jeff-mitchell.dev/tags/compound/">compound</a>
        
    
            
        
    </div>

            
    
</header><p>Selecting a data structure model is a key step in software development. Previously, I showed the very basic single data types in Rust. This article covers compound data types. Compound types can incorporate multiple building blocks in one overall type.</p>
<h3 id="tuples">Tuples</h3>
<p>A tuple can contain multiple values, each with their own type, into one single entity. Tuples have a fixed length, they cannot grow or shrink later on. Tuples are stored on the stack in memory. Care is needed up front with creation because a tuples size can’t be modified later. You can modify the values inside the tuple, but new values can’t be added to it.</p>
<p>We can declare a tuple like so:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>let survey_result: (&amp;str, u8, bool) = (&quot;John&quot;, 36, true);
</span></code></pre>
<p>We’ve created a variable name called survey_result and bound a string slice (haven’t talked about strings yet, don’t worry for now), an integer, and a boolean together into a tuple. This variable could represent the data received after submission of a survey form. There are type annotations immediately following the variable name. These are optional. In most cases, Rust can “infer” (figure out) the types needed.</p>
<p>There are a couple of different ways to access the values inside a tuple.</p>
<p><em>Via Indicies</em></p>
<p>Individual values inside a tuple are indexed from 0, 1, 2… similar to arrays or vectors. Values can be accessed with a (.) followed by the value index, like so:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>fn main() {
</span><span>    let survey_result: (&amp;str, u8, bool) = (&quot;John&quot;, 36, true);
</span><span>    let name = survey_result.0;
</span><span>    let age = survey_result.1;
</span><span>    let answer = survey_result.2;
</span><span>}
</span></code></pre>
<p><em>Via Destructuring</em></p>
<p>The index method is a little verbose and it can be difficult to track the indicies if the tuple is large. It’s more elegant (and efficient) to use the destructuring method, like so:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>fn main() {
</span><span>     let survey_result: (&amp;str, u8, bool) = (&quot;John&quot;, 36, true);
</span><span>     let (name, age, answer) = survey_result;
</span><span>     println!(&quot;{}, aged {}, answered {} on the survey form.&quot;, name,    age, answer);
</span></code></pre>
<p>We’ve created the same tuple named survey_result and bound the same three values as the previous example. Next, we bind the individual values within the tuple to three new variables named name, age, and answer. We’ve used the destructuring pattern instead of three separate let statements. Finally, we print out the result to the console.</p>
<p>Tuples are useful for small data structures, but they become unwieldy for more complex needs. The better choice is a struct, which will be the topic of a future article.</p>
<h3 id="arrays">Arrays</h3>
<p>The next compound data type is an array. Similar to tuples, arrays are fixed length and cannot grow or shrink. Unlike tuples, arrays can only contain the same type of basic values. Arrays are useful in situations where a fixed number of elements is desired. An example array of the names of the days of the week can be created like so:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>let days = [&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;];
</span></code></pre>
<p>I haven’t discussed memory yet as it relates to Rust, but similar to tuples, arrays are held in memory on the stack. This is because they are a known, fixed length, similar to the basic data types. Rust knows how much memory to allocate for them at compile time.</p>
<p>Arrays are declared with square brackets and can receive an optional type declaration, like so:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>let numbers: [i32; 6] = [1, 2, 3, 4, 5, 6];
</span></code></pre>
<p>We’ve created an array of six integers and bound it to the variable named numbers. The type declaration is enclosed in square brackets and contains the type followed by a semicolon and the number of elements in the array.</p>
<p>If for some reason an array is needed that initially has all the same elements, a short form can be used to declare it, like so:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>let initial_values = [3; 3];
</span></code></pre>
<p>This creates an array with three elements, all having the integer value 3.</p>
<p>Elements within an array are accessed by referencing the variable name and appending an index surrounded with square brackets, like so:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>fn main() {
</span><span>     let weekdays = [&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;]
</span><span>
</span><span>     let midweek = weekdays[2];
</span><span>     let endofweek = weekdays[4];
</span><span>}
</span></code></pre>
<p>Here we declare an array variable that contains the five days of the week. Individual elements are indexed from 0 to 4. We then assign Wednesday to a new variable called midweek and Friday to a new variable called endofweek.</p>
<p>It’s important to remember the 0 start index of an array. I messed up while writing this 🙂 I think whoever decided to start indexing at zero should have their head examined, but it is what it is.</p>
<p>To conclude the discussion on arrays, Rust will help you when accessing array elements by automatically checking that the specified index is less than the array’s length. A runtime error will be received in the event the program tries to access an array index that is beyond the end of the array.</p>
<h3 id="conclusion">Conclusion</h3>
<p>This article has covered Rust’s compound data types, tuples and arrays. I haven’t seen or written giant amounts of Rust code yet, but I’ve not seen these data structures used particularly often. The go-to seems to be vectors, particularly vectors of structs. The potential unwieldiness of tuples and the inability of arrays to grow or shrink I think limits their use cases. They both have the advantage of being stored on the stack in memory, so they are cheap to make and quick to access. At the end of the day, both are an available tool and you the programmer must choose what works best for your particular problem.</p>
<p>References</p>
<p><a rel="noopener noreferrer" target="_blank" href="https://doc.rust-lang.org/book/ch03-02-data-types.html">The Rust Programming Language, Chapter 3.2</a></p>


        
    

        
        
    </article></div>
    <div class="pagination">
        <div class="pagination__buttons">
            </div>
    </div>
<footer class="footer">
                    <div class="footer__inner"><div class="copyright">
            <span>© 2024 Jeffery D Mitchell :: Powered by <a href="https://www.getzola.org/">Zola</a>:: Zerm theme made by <a href="https://github.com/ejmg">ejmg</a> :: Hosted on <a href="https://shuttle.rs">Shuttle</a> </span>
        </div>
    <script type="text/javascript" src="https://jeff-mitchell.dev/assets/js/main.js"></script>
</div>
                    

                </footer></div>
    </body>
</html>
