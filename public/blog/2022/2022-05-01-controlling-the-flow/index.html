<!DOCTYPE html>
<html lang="en">
    <head>
    <title>Controlling the Flow - Jeff Mitchell</title>
    
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><meta name="description" content="A blog mostly about Rust...mostly... Controlling the Flow An introduction to the flow control tools and syntax in Rust."/><meta name="keywords" content="Beginner Guides, rust, control flow" />
    <meta property="og:title" content="jeff-mitchell.dev -&nbsp;Controlling the Flow" />
    <meta property="og:type" content="website"/><meta property="og:url" content="https:&#x2F;&#x2F;jeff-mitchell.dev&#x2F;blog&#x2F;2022&#x2F;2022-05-01-controlling-the-flow&#x2F;"/><meta property="og:description" content="An introduction to the flow control tools and syntax in Rust."/>
    <link rel="preload" href="https://jeff-mitchell.dev/assets/fonts/FiraCode-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
    <link rel="preload" href="https://jeff-mitchell.dev/assets/fonts/FiraCode-Bold.woff2" as="font" type="font/woff2" crossorigin="anonymous">

    <link rel="stylesheet" href="https://jeff-mitchell.dev/style.css?h=97e262212a0704163528">
    <link rel="stylesheet" href=" https://jeff-mitchell.dev/color/orange.css?h=a5a5d7faf9d4bc3e0b18">
    
<link rel="alternate" type="application/atom+xml" title="jeff-mitchell.dev RSS" href="https://jeff-mitchell.dev/atom.xml"></head>
    <body>
        <div class="container center">
<header class="header">
    <div class="header__inner">
        <div class="header__logo">
            <a href="&#x2F;">
    <div class="logo">
        jeff-mitchell.dev :: mis-adventures with the Rust programming language
    </div>
</a>
        </div>
        <div class="menu-trigger">menu</div>
    </div>
    
    <nav class="menu">
        <ul class="menu__inner menu__inner--desktop">
            
            
        <li>
            <a href="
    
        https://jeff-mitchell.dev/
    
">home</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/about/
    
">about</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/categories
    
">categories</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/tags
    
">tags</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/projects
    
">projects</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/resources
    
">resources</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/atom.xml
    
">RSS</a>
        </li>
        <li>
            <a href="
    
        https:&#x2F;&#x2F;github.com&#x2F;sentinel1909
    
">GitHub</a>
        </li>
        <li>
            <a href="
    
        https:&#x2F;&#x2F;query.rs
    
">query.rs</a>
        </li></ul>

        <ul class="menu__inner menu__inner--mobile">
            
        <li>
            <a href="
    
        https://jeff-mitchell.dev/
    
">home</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/about/
    
">about</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/categories
    
">categories</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/tags
    
">tags</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/projects
    
">projects</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/resources
    
">resources</a>
        </li>
        <li>
            <a href="
    
        https://jeff-mitchell.dev/atom.xml
    
">RSS</a>
        </li>
        <li>
            <a href="
    
        https:&#x2F;&#x2F;github.com&#x2F;sentinel1909
    
">GitHub</a>
        </li>
        <li>
            <a href="
    
        https:&#x2F;&#x2F;query.rs
    
">query.rs</a>
        </li>
        </ul>
    </nav>

    </header>
<div class="content"><article class="post">
        <header>
            <h1 class="post-title">
                <a href="https:&#x2F;&#x2F;jeff-mitchell.dev&#x2F;blog&#x2F;2022&#x2F;2022-05-01-controlling-the-flow&#x2F;">Controlling the Flow</a>
            </h1>
            
    <div class="post-meta">
        <span class="post-date">2022.05.01
                </span>

        <span class="post-author">
    ::
    Jeff Mitchell</span>

        

    
    :: {<a href="https://jeff-mitchell.dev/categories/beginner-guides/">Beginner Guides</a>} 

            
    ::
    #<a href="https://jeff-mitchell.dev/tags/rust/">rust</a>
        
    #<a href="https://jeff-mitchell.dev/tags/control-flow/">control flow</a>
        
    
            
        
    </div>

            
    
</header><p>Last time, in <a href="https://jeff-mitchell.dev/blog/2022/2022-04-27-decisions-decisions/">Decisions, Decisions</a>, we looked at a method for adding logic within a program, via the if and if else expressions. Next up, we see how we can further control the flow, through loops. Loops allow repetition of blocks of code until some desired event or outcome. There are three kinds of loops in Rust: loop, while, and for.</p>
<h3 id="loop">loop</h3>
<p>The loop keyword tells Rust to execute the same block of code over, and over, and over again, until told specifically to stop. Here’s a basic example:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>fn main() {
</span><span>	loop {
</span><span>		println!(&quot;Help, I&#39;m stuck in a loop!&quot;);
</span><span>	}
</span><span>}
</span></code></pre>
<p>This program will endlessly print out the message, “Help, I’m stuck in a loop!”, over and over to the console until you hit the control-C key combo to break out. This is not particularly elegant or useful. Luckily, you can control how long you stay in the loop.</p>
<p>Here’s another example:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>fn main() {
</span><span>	let mut count = 10;
</span><span>	loop {
</span><span>		println!(&quot;Ok, in a loop, but will get out once the count reaches {}&quot;, count);
</span><span>			count -= 1;
</span><span>			if count &lt; 0 {
</span><span>				println!(&quot;Yay, I&#39;m saved!&quot;);
</span><span>				break;
</span><span>			}
</span><span>	}
</span><span>}
</span></code></pre>
<p>We declare a counter variable and bind the starting value of 10 to it. Then, we enter a loop. In the loop, we iterate through the following steps:</p>
<ul>
<li>print a message about being stuck in a loop</li>
<li>decrease the counter value by one</li>
<li>check if the counter is less than zero, if it is, we print one final message then break out of the loop, terminating the program</li>
<li>if the counter is not less than zero, around we go again</li>
</ul>
<p>Values can be returned out of loops. This is useful in the case where you might be computing something, then need to return the value out to the rest of the program. When doing this, the loop can be assigned to a variable, which will hold the result computed from the loop. Here’s an example:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>fn main() {
</span><span>	let mut counter = 0;
</span><span>
</span><span>	let result = loop {
</span><span>		counter += 1;
</span><span>
</span><span>		if counter == 10 {
</span><span>			break counter * 2;
</span><span>		}
</span><span>	};
</span><span>
</span><span>	println!(&quot;The result is {}&quot;, result);
</span><span>}
</span></code></pre>
<p>Here, you can see that we’ve added the final result of the counter variable to the break keyword, then bound the whole loop structure to the variable result.</p>
<h3 id="while">while</h3>
<p>Frequently, we need to repeat an action while a certain condition is true. Without any other methods, we could do this with a combination of the loop we just learned about, along with if, else, and break, however, this is cumbersome. Rust has the while loop for us.</p>
<p>Here’s an example:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>fn main() {
</span><span>	let mut number = 10;
</span><span>	while number != 0 {
</span><span>		println!(&quot;Counting down...{}!&quot;, number);
</span><span>		number -= 1;
</span><span>	}
</span><span>
</span><span>	println!(&quot;Liftoff!!!&quot;);
</span><span>}
</span></code></pre>
<p>We declare a variable named number and bind the value 10 to it, when we enter the while loop, checking that number is not equal to 0. We print a message with the value of number, decreasing it by 1 on each pass through the loop. Eventually, we reach 0 and the final message is output.</p>
<h3 id="for">for</h3>
<p>The last basic loop structure is a for loop. In a for loop, execution happens for as many times as you specify. Any other decision logic you have to add yourself. The for loop will execute the specified number of times, in absence of anything else.</p>
<p>Let’s say we have a couple of arrays and we need to print out all the elements within each. We can do that with a for loop.</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>fn main() {
</span><span>	let array_one = [40, 80, 120];
</span><span>	let array_two = [30, 70, 110];
</span><span>
</span><span>	for array_item in array_one {
</span><span>		println!(&quot;the value is: {}&quot;, array_item);
</span><span>	}
</span><span>
</span><span>	for array_item in array_two {
</span><span>		println!(&quot;the value is: {}&quot;, array_item);
</span><span>	}
</span><span>}
</span></code></pre>
<p>This will loop through the individual entries in each array, and print the entries to the console.</p>
<p>A handy thing to do with for loops is to pull in Range from the standard library AND use the rev method available on Range to countdown. Let’s do another countdown using this technique:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>fn main() {
</span><span>	for number in (1..10).rev() {
</span><span>		println!(&quot;{}!&quot;, number);
</span><span>	}
</span><span>	println!(&quot;We have liftoff!!!&quot;);
</span><span>}
</span></code></pre>
<p>This is quite elegant.</p>
<h3 id="conclusion">Conclusion</h3>
<p>These loops, when combined with decision logic such as if and else if, allow programs to have a more sophisticated execution order and be more flexible to internal and external input. These basic building blocks form the basis of all you do with Rust going forward. When combined with Rust’s more advanced features and data structures, you’re able to create truly useful software. My writings up to this point have covered the very basic programming concepts included in Rust. Before I move on to the more advanced territory from the Rust Book, in my next article I’ll demonstrate building something simple with all that I’ve written about so far. Stay tuned!</p>
<h3 id="references">References</h3>
<p><a rel="noopener noreferrer" target="_blank" href="https://doc.rust-lang.org/book/ch03-05-control-flow.html">The Rust Programming Language, Chapter 3.5</a></p>


        
    

        
        
    </article></div>
    <div class="pagination">
        <div class="pagination__buttons">
            </div>
    </div>
<footer class="footer">
                    <div class="footer__inner"><div class="copyright">
            <span>© 2024 Jeffery D Mitchell :: Powered by <a href="https://www.getzola.org/">Zola</a>:: Zerm theme made by <a href="https://github.com/ejmg">ejmg</a> :: Hosted on <a href="https://shuttle.rs">Shuttle</a> </span>
        </div>
    <script type="text/javascript" src="https://jeff-mitchell.dev/assets/js/main.js"></script>
</div>
                    

                </footer></div>
    </body>
</html>
